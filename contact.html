<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Chalets des Bouleaux</title>
    <meta name="author" content="Dónal Murtagh">

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS -->
    <link rel="stylesheet" href="stylesheets/base.css">
    <link rel="stylesheet" href="stylesheets/skeleton.css">
    <link rel="stylesheet" href="stylesheets/layout.css">
    <link rel="stylesheet" href="stylesheets/fonts.css">
    <link rel="stylesheet" href="stylesheets/flexslider.css">
    <link rel="stylesheet" href="stylesheets/mosaic.css">
    <link rel="stylesheet" href="stylesheets/prettyPhoto.css">
    <link rel="stylesheet" href="stylesheets/cdb.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>

    <style>
        ul.line {
            margin-bottom: 20px;
        }

        #directions input {
            margin-bottom: 10px;
        }

        input[name="depart"] {
            width: 100%;
        }

        #sidebar p {
            text-align: justify;
        }

        #map img {
            max-width: none;
        }

        @media only screen and (max-width: 767px) {
            #directions {
                margin-left: 10px;
                margin-right: 20px;

            }

            ul.line {
                margin-left: 10px;
                margin-right: 10px;
            }
        }
     </style>

    <!-- Favicons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
</head>
<body>

<header>
    <div class="wrapper">
        <section id="branding">
            <div class="container">

                <div id="logo" class="eight columns">
                    <a href="index.html">
                        <img src="images/logo.png"/>
                        Chalets des Bouleaux
                    </a>
                </div>

                <div id="fpq" class="three columns">
                    <a href="http://www.pourvoiries.com" target="_blank">
                        <img src="images/logo-fpq.png" alt="FPQ"/>
                    </a>
                </div>

                <div id="innerHeader" class="five columns headerInfo">
                    <p>
                        NUMÉRO D’ÉTABLISSEMENT: 850006<br>
                        Téléphone: 819-597-2957<br>
                        <a href="mailto:chaletsdesbouleaux@gmail.com" id="email">chaletsdesbouleaux@gmail.com</a><br>
                    </p>
                </div>
            </div>
        </section>

        <div id="navigation">
            <div class="navigationBar">
                <nav id="nav">
                    <ul>
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="chalets.html">Chalets</a></li>
                        <li><a href="activites.html">Activités</a></li>
                        <li><a href="contact.html" class="active">Contacts</a></li>
                        <li><a href="photo-bouleau.html">Photos</a></li>
                        <li><a href="tarifs.html">Tarifs</a></li>
                        <li class="social-link">
                            <a target="_blank" href="https://www.facebook.com/chaletsdesbouleaux">
                                <img src="images/social/facebook-white.svg" alt="Facebook" title="Chalets des Bouleaux sur Facebook"/>
                                <span class="menu-label">Facebook</span>
                            </a>
                        </li>
                        <li class="social-link">
                            <a target="_blank" href="https://www.instagram.com/chaletsdesbouleaux">
                                <img src="images/social/instagram-64.png" alt="Instagram" title="Chalets des Bouleaux sur Instagram"/>
                                <span class="menu-label">Instagram</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</header>

<div class="wrapper">
    <div id="headerImage" class="remove-lineheight white">
        <div class="loading"><img src="images/cdb/map.jpg"/></div>
    </div>
</div>
<div class="wrapper">
    <div id="main" class="white">
        <div class="container">
            <div class="sixteen columns">
                <h2 class="uppercase fittext">Contacts</h2>
            </div>
            <section class="eleven columns">
                <div class="mapContainer box">
                    <div id="map" class="gmap"></div>
                </div>

                <div id="msg-sent" class="info hide">Merci, votre message a été envoyé</div>
                <p>Pour nous contacter, veuillez compléter les informations ci-dessous.</p>

                <form id="contactForm" class="remove-bottom" method="POST">
                    <label for="form-name">Votre Nom</label>
                    <input type="text" name="name" id="form-name" required>

                    <label for="form-email">Votre Courriel</label>
                    <input type="email" name="email" id="form-email" required>

                    <label for="form-msg">Votre Message</label>
                    <textarea rows="8" name="message" id="form-msg" cols="1" required></textarea>

                    <div class="loading hide" id="spinner" style="background-position: left"></div>
                    <div id="submit-contact">
                        <input type="submit" value="Envoyer" class="remove-bottom"/>
                    </div>
                </form>
            </section>

            <aside id="sidebar" class="five columns">
                <h5 class="fancy">Réservations et Renseignements</h5>
                <p>Pour réserver ou obtenir de plus amples renseignements contactez-nous:</p>

                <ul class="line">
                    <li>Téléphone: <span class="phone">819-597-2957</span></li>
                    <li><a href="mailto:chaletsdesbouleaux@gmail.com">chaletsdesbouleaux@gmail.com</a></li>
                </ul>

                <h5 class="fancy">Propriétaires</h5>
                <p>Luc Bondu et Sylvie Gougeon.</p>

                <h5 class="fancy">Notre Adresse</h5>
                <address>
                    Chalets des Bouleaux<br>
                    130 ch. H Bondu<br>
                    Notre-Dame de Pontmain<br>
                    Québec J0W 1S0
                </address>

                <p>
                    L'emplacement de Notre-Dame de Pontmain est indiqué sur la carte. Pour voir une version agrandie de cette carte dans une autre fenêtre,
                    <a href="https://maps.google.ca/maps?f=q&amp;source=s_q&amp;hl=fr&amp;geocode=&amp;q=notre-dame+de+pontmain&amp;sll=49.891235,-97.15369&amp;sspn=25.825869,79.101563&amp;ie=UTF8&amp;ll=46.339343,-75.344238&amp;spn=3.450898,14.0625&amp;z=7&amp;iwloc=addr" target="_blank">cliquez ici</a>.
                </p>

                <h5 class="fancy">Directions Routières</h5>
                <p>
                    Pour vous diriger vers Notre-Dame de Pontmain, suivez les liens suivants si vous êtes en provenance de
                    <a href="https://maps.google.ca/maps?f=d&amp;source=s_d&amp;saddr=montreal,+canada&amp;daddr=notre-dame+de+pontmain,+canada&amp;hl=fr&amp;geocode=&amp;mra=ls&amp;sll=47.15984,2.988281&amp;sspn=13.596871,39.550781&amp;ie=UTF8&amp;z=8&amp;hl=fr" target="_blank">Montréal</a> ou
                    <a href="https://maps.google.ca/maps?f=d&amp;source=s_d&amp;saddr=gatineau,+canada&amp;daddr=notre-dame+de+pontmain,+canada&amp;hl=fr&amp;geocode=&amp;mra=ls&amp;sll=46.04451,-74.63554&amp;sspn=1.734826,4.943848&amp;ie=UTF8&amp;z=9&amp;hl=fr" target="_blank">Gatineau</a>.
                    En provenance de toutes autres directions, entrez votre adresse de départ ci-dessous.
                </p>
                <form id="directions">
                    <div id="address-error" class="hide invalid">Veuillez fournir une adresse de départ</div>
                    <input id="depart" name="depart" type="text" placeholder="Adresse de Départ"/>
                    <button type="submit">Directions</button>
                </form>
            </aside>
        </div>
    </div>
    <div class="wrapper">
        <footer>
            <div id="footer" class="darkGray">
                <div class="container">
                    <div class="fifteen columns">
                        <ul id="footerlinks">
                            <li><a href="index.html">Accueil</a></li>
                            <li><a href="chalets.html">Chalets</a></li>
                            <li><a href="activites.html">Activités</a></li>
                            <li><a href="contact.html" class="active">Contacts</a></li>
                            <li><a href="photo-bouleau.html">Photos</a></li>
                            <li><a href="tarifs.html">Tarifs</a></li>
                            <li><a target="_blank" href="https://www.facebook.com/chaletsdesbouleaux">Instagram</a></li>
                            <li><a target="_blank" href="https://www.instagram.com/chaletsdesbouleaux">Facebook</a></li>
                        </ul>
                    </div>
                    <div class="one column topbuttonContainer"><a href="#" class="topbutton">Top</a></div>
                </div>
            </div>
        </footer>
    </div>
</div>

<script src="javascripts/jquery-1.12.4.min.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>

<script>
    $(function () {
        const mapCentre = {
            lat: 46.302732,
            lon: -75.639441
        };

        // Add a Leaflet map to the page https://leafletjs.com/examples/quick-start/
        const leafletMap = L.map('map').setView([mapCentre.lat, mapCentre.lon], 7);

        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZG9tdXJ0YWciLCJhIjoiY2p5OG90dTB3MDI2eDNubGJ3MjdpcHZ2NSJ9.Gu_f2E_w66USr4IACgz7cw', {
            id: 'mapbox/streets-v11',
            tileSize: 512,
            maxZoom: 18,
            zoomOffset: -1,
        }).addTo(leafletMap);

        L.marker([mapCentre.lat, mapCentre.lon])
            .addTo(leafletMap)
            .bindPopup("Chalets des Bouleaux").openPopup();

        const fadeTime = 400;

        // handler for the directions form
        $('#directions').submit(function () {
            let startAddress = $('#depart').val()?.trim()

            if (startAddress) {
                $('#address-error').fadeOut(fadeTime);
                startAddress = encodeURIComponent(startAddress);
                const endAddress = encodeURIComponent("Chalets des Bouleaux, Notre-Dame de Pontmain, QC");
                const googleMapsUrl = `https://maps.google.ca/maps?saddr=${startAddress}&daddr=${endAddress}&hl=fr`;
                window.open(googleMapsUrl);
            } else {
                $('#address-error').fadeIn(fadeTime);
            }
            return false;
        });

        // handler for contact form
        const contactForm = $("#contactForm");
        const toggleSpinner = () => $("#spinner, #submit-contact").toggleClass('hide');

        contactForm.submit(function (e) {
            toggleSpinner()
            const name = $("#form-name").val();
            const message = $("#form-msg").val();
            const email = $("#form-email").val();

            const formData = {
                name,
                message,
                email,
                _subject: `chaletsdesbouleaux.com message de: ${name}`
            }

            /*
            Use https://formsubmit.co/ to send an email when the form is submitted
            - https://formsubmit.co/documentation
            - https://formsubmit.co/ajax-documentation

            When testing this form locally, replace the URL below with something like
            https://formsubmit.co/ajax/cdb-test@example.com
            to avoid sending emails to the actual CDB mailbox during testing.

            If the test email address has not previously been verified by FormSubmit, an email containing an activation
            link will be sent it the first time the form is submitted. Emails will not be delivered (by FormSubmit)
            until the address is activated.
             */
            $.ajax({
                type: 'POST',
                url: 'https://formsubmit.co/ajax/5f5c2cb539423d839ffcf34eb76ced39',
                dataType: 'json',
                accepts: 'application/json',
                data: formData,
                success: data => {
                    toggleSpinner()
                    $('#msg-sent').fadeIn(fadeTime);
                    contactForm.each(function () {
                        this.reset();
                    });
                },
                error: toggleSpinner
            });
            return false;
        });
    });
</script>
<script src="javascripts/jquery.flexslider-min.js"></script>
<script src="javascripts/jquery.prettyPhoto.js"></script>
<script src="javascripts/mosaic.1.0.1.min.js"></script>
<script src="javascripts/jquery.fittext.js"></script>
<script src="javascripts/common.js"></script>

</body>
</html>